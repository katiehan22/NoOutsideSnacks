!function(){"use strict";!function(){var e=class{constructor(e,s,t){this.pos=e,this.vel=s,this.img=t}draw(e){e.drawImage(this.img,this.pos[0],this.pos[1],75,75)}move(){this.pos=[this.pos[0]+this.vel,this.pos[1]]}};const s={slushee:"assets/images/cupempty.png",hotdog:"assets/images/hotdog.png",popcorn:"assets/images/popcornplain.png",pretzel:"assets/images/pretzelplain.png",slusheeCorrect:"assets/images/cupfilled.png",hotdogCorrect:"assets/images/hotdogmustard.png",popcornCorrect:"assets/images/popcornbutter.png",pretzelCorrect:"assets/images/pretzelsalt.png",slusheeIncorrect:"assets/images/cupincorrect.png",hotdogIncorrect:"assets/images/hotdogincorrect.png",popcornIncorrect:"assets/images/popcornincorrect.png",pretzelIncorrect:"assets/images/pretzelincorrect.png"};var t=class extends e{constructor(e,t){const i=new Image;i.src=s[t],super([0,450],e,i),this.name=t,this.topping=null}move(){this.pos=[this.pos[0]+this.vel,this.pos[1]]}draw(e){e.drawImage(this.img,this.pos[0],this.pos[1],75,75)}swapImage(e){"correct"===e?("slushee"===this.name?this.img.src="assets/images/cupfilled.png":"hotdog"===this.name?this.img.src="assets/images/hotdogmustard.png":"popcorn"===this.name?this.img.src="assets/images/popcornbutter.png":this.img.src="assets/images/pretzelsalt.png",this.topping=this.name):("slushee"===this.name?this.img.src="assets/images/cupincorrect.png":"hotdog"===this.name?this.img.src="assets/images/hotdogincorrect.png":"popcorn"===this.name?this.img.src="assets/images/popcornincorrect.png":this.img.src="assets/images/pretzelincorrect.png",this.topping="incorrect")}static get FOODITEMS(){return s}};document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("game-canvas").getContext("2d"),s=document.getElementById("start-button"),i=document.querySelector(".title-screen"),o=document.querySelector(".canvas-div"),n=document.getElementById("game-canvas");s.addEventListener("click",(function(){i.style.display="none",o.style.display="block",n.style.display="block",new class{constructor(e,s){this.game=new class{constructor(e){this.el=e,this.background=new Image,this.background.src="assets/images/concessions4.png",this.createMutePause(),this.createDispensers(),this.allFoodItems=[],this.fillFoodItems(),this.allToppings=[],this.paused=!1,this.score=0,this.scoreImg=new Image,this.scoreImg.src="assets/images/starscore.png",this.correctSound=new Audio("assets/audio/correct.wav"),this.incorrectSound=new Audio("assets/audio/incorrect.mp3"),this.backgroundMusic=new Audio("assets/audio/ukulele.mp3"),this.backgroundMusic.play(),this.handleClick=this.handleClick.bind(this),this.bindEvents()}fillFoodItems(){let e=0;for(;e<15;)setTimeout(this.createFoodItem.bind(this),2e3),e+=1}createFoodItem(){let e=Object.keys(t.FOODITEMS)[Math.floor(4*Math.random())],s=new t(10,e);this.allFoodItems.push(s)}createMutePause(){const e=document.createElement("ul");e.classList.add("game-buttons"),this.el.appendChild(e);let s=document.createElement("li");s.classList.add("mute");let t=document.createElement("img");t.src="assets/images/buttonmute.png",t.id="mute-img",s.appendChild(t);let i=document.createElement("li");i.classList.add("pause");let o=document.createElement("img");o.src="assets/images/buttonpause.png",o.id="pause-img",i.appendChild(o),e.appendChild(s),e.appendChild(i)}createDispensers(){const e=document.createElement("ul");e.classList.add("dispenser-machines"),this.el.appendChild(e);let s=document.createElement("li");s.classList.add("slushee");let t=document.createElement("img");t.src="assets/images/dispenserslushee.png",t.id="slushee-img",s.appendChild(t);let i=document.createElement("li");i.classList.add("hotdog");let o=document.createElement("img");o.src="assets/images/dispensermustard.png",o.id="hotdog-img",i.appendChild(o);let n=document.createElement("li");n.classList.add("popcorn");let a=document.createElement("img");a.src="assets/images/dispenserbutter.png",a.id="popcorn-img",n.appendChild(a);let c=document.createElement("li");c.classList.add("pretzel");let l=document.createElement("img");l.src="assets/images/dispensersalt.png",l.id="pretzel-img",c.appendChild(l),e.appendChild(s),e.appendChild(i),e.appendChild(n),e.appendChild(c)}draw(e){e.clearRect(0,0,800,600),e.drawImage(this.background,0,0);for(let s=0;s<this.allFoodItems.length;s++)this.allFoodItems[s].draw(e);for(let s=0;s<this.allToppings.length;s++)this.allToppings[s].draw(e);e.drawImage(this.scoreImg,560,0,175,175),e.textAlign="center",e.lineWidth=.5,e.fillStyle="black",e.font="15px Alkalami",e.fillText("Score",646,80),e.font="30px Alkalami",e.fillText(`${this.score}`,647,110)}moveObjects(){for(let e=0;e<this.allFoodItems.length;e++)this.allFoodItems[e].move();for(let e=0;e<this.allToppings.length;e++)this.allToppings[e].move()}checkToppingBounds(){this.allToppings.length>0&&this.allToppings[0].outOfBounds()&&(this.allToppings=this.allToppings.slice(1))}bindEvents(){document.querySelector(".dispenser-machines").addEventListener("click",this.handleClick),document.querySelector("#mute-img").addEventListener("click",this.handleMute),document.querySelector("#pause-img").addEventListener("click",this.togglePause)}handleClick(e){let s=e.target;if("IMG"===s.nodeName){let e=new class{constructor(e){this.name=e,"slushee-img"===e?(this.color="pink",this.pos=[143,350]):"hotdog-img"===e?(this.color="yellow",this.pos=[308,350]):"popcorn-img"===e?(this.color="yellow",this.pos=[474,350]):(this.color="white",this.pos=[639,350])}draw(e){e.fillStyle=this.color,e.fillRect(this.pos[0],this.pos[1],15,40)}move(){this.pos=[this.pos[0],this.pos[1]+20]}outOfBounds(){return this.pos[1]>=475}}(s.id);this.allToppings.push(e),this.getBelowFoodItem(e)}}handleMute(e){console.log(this.backgroundMusic),this.backgroundMusic.muted?(this.backgroundMusic.muted=!1,this.correctSound.muted=!1,this.incorrectSound.muted=!1):(this.backgroundMusic.muted=!0,this.correctSound.muted=!0,this.incorrectSound.muted=!0)}togglePause(e){console.log(this.paused),!1===this.paused||void 0===this.paused?this.paused=!0:this.paused=!1,console.log(this.paused)}getBelowFoodItem(e){let s=null;for(let t=0;t<this.allFoodItems.length;t++){let i=this.allFoodItems[t];i.pos[0]>=e.pos[0]-125&&i.pos[0]<=e.pos[0]-10&&(s=i,console.log(i),console.log(e))}return null!=s&&null===s.topping&&this.addTopping(s,e),s}addTopping(e,s){!0===this.checkCorrectMatch(e,s)?(e.swapImage("correct"),this.correctSound.play(),this.score+=10):(e.swapImage("incorrect"),this.incorrectSound.play())}checkCorrectMatch(e,s){return"hotdog"===e.name&&"hotdog-img"===s.name||"popcorn"===e.name&&"popcorn-img"===s.name||"slushee"===e.name&&"slushee-img"===s.name||"pretzel"===e.name&&"pretzel-img"===s.name}}(s),this.ctx=e,this.el=s}start(){setInterval(this.game.draw.bind(this.game,this.ctx),20),setInterval(this.game.moveObjects.bind(this.game),100),setInterval(this.game.checkToppingBounds.bind(this.game),100)}}(e,o).start()}))}))}()}();
//# sourceMappingURL=main.js.map